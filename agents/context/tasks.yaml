schema_version: 2
current_sprint:
  - id: T-013
    title: Add side-panel signal browser and extension-webview signal actions
    owner: Executor
    dod:
      - Contribute a VS Code side-panel signal browser view for loaded numeric signals.
      - Implement a `TreeDataProvider` for signal entries with add-to-plot command support.
      - Wire extension-host actions so side-panel interactions add traces to the active plot deterministically.
      - Keep current in-webview signal controls functional as fallback during migration.
    verify:
      - npm run lint
      - npm test -- tests/extension/smoke.test.ts
      - npm test -- tests/unit/webview/workspaceState.test.ts
    links:
      scratchpad: agents/scratchpads/T-013.md
      spec: doc/vaporview-architecture-findings.md
    files:
      - package.json
      - src/extension.ts
      - src/extension/signalTree.ts
      - src/core/dataset/types.ts
      - src/webview/main.ts
      - tests/extension/smoke.test.ts
      - agents/scratchpads/T-013.md
  - id: T-014
    title: Implement drag and drop from signal browser to axis lanes
    owner: Executor
    depends_on:
      - T-013
    dod:
      - Enable dragging signal items from the side-panel browser.
      - Add webview drop targets for axis lanes (axis rows) with visible hover feedback.
      - On drop, add a trace bound to the target axis; support explicit drop target for creating a new axis.
      - Keep reducer-driven updates deterministic and compatible with existing workspace replay flow.
    verify:
      - npm run lint
      - npm test -- tests/unit/webview/workspaceState.test.ts tests/unit/webview/plotly/adapter.test.ts
    links:
      scratchpad: agents/scratchpads/T-014.md
      spec: doc/vaporview-architecture-findings.md
    files:
      - src/webview/components/AxisManager.ts
      - src/webview/main.ts
      - src/webview/index.html
      - src/webview/styles.css
      - src/extension.ts
      - tests/unit/webview/workspaceState.test.ts
      - tests/extension/smoke.test.ts
      - agents/scratchpads/T-014.md
backlog:
  - id: T-015
    title: Add canvas-domain drop overlay and quick-add ergonomics
    owner: Executor
    depends_on:
      - T-014
    dod:
      - Add a plot-canvas drop overlay that maps pointer location to domain-stacked lanes.
      - Implement drop-to-lane behavior matching lane domain boundaries from the Plotly adapter.
      - Add double-click quick-add from side panel to active/default target lane.
      - Ensure overlay and row-target drop paths share one dispatch contract.
    verify:
      - npm run lint
      - npm test -- tests/unit/webview/plotly/adapter.test.ts tests/extension/smoke.test.ts
    links:
      scratchpad: agents/scratchpads/T-015.md
      spec: doc/vaporview-architecture-findings.md
    files:
      - src/webview/plotly/adapter.ts
      - src/webview/main.ts
      - src/webview/index.html
      - src/webview/styles.css
      - src/webview/components/SignalList.ts
      - tests/unit/webview/plotly/adapter.test.ts
      - tests/extension/smoke.test.ts
      - agents/scratchpads/T-015.md
  - id: T-016
    title: Keyboard and workflow polish for side-panel-driven plotting
    owner: Executor
    depends_on:
      - T-015
    dod:
      - Add keybinding-backed actions for zoom-to-fit and cancel-active-gesture semantics in viewer scope.
      - Add context actions for side-panel signal items (`Add to Plot`, `Add to New Axis`, `Reveal in Plot`).
      - Update README usage workflow to document side-panel-first plotting interactions.
      - Add regression checks for command wiring and key action message flow.
    verify:
      - npm run lint
      - npm test
    links:
      scratchpad: agents/scratchpads/T-016.md
      spec: doc/vaporview-architecture-findings.md
    files:
      - package.json
      - src/extension.ts
      - src/webview/main.ts
      - tests/extension/smoke.test.ts
      - README.md
      - agents/scratchpads/T-016.md
exploration_candidates:
  - Evaluate migrating Wave Viewer from command-opened panel to custom editor architecture (`viewType`) for tighter VS Code integration.
  - Evaluate grouped signal tree taxonomy (flat vs prefix-grouped) for large datasets.
  - Evaluate decimation strategy for large CSV files under side-panel-driven multi-trace workflows.
