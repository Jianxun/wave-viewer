# T-029 â€” Implement tuple-trace ingestion path from Explorer to viewer

## Task summary (DoD + verify)
- Implement host-side mapping from selected Explorer signal to explicit tuple trace payloads (`x[]`, `y[]`, metadata) for viewer delivery.
- Ensure viewer state stores and renders only trace tuples received from host; avoid deriving plot data from full dataset snapshots inside viewer.
- Keep lane assignment and reducer behavior deterministic when adding tuple traces.
- Add unit/smoke tests proving mixed-grid traces from different sources can coexist in one viewer session.

Verify:
- `npm run lint`
- `npm test -- tests/extension/smoke.test.ts tests/unit/webview/workspaceState.test.ts`

## Read (paths)
- `agents/context/lessons.md`
- `agents/context/contract.md`
- `agents/context/tasks.yaml`
- `agents/context/tasks_state.yaml`
- `agents/context/project_status.md`

## Plan
- Add/adjust tests for tuple ingestion and mixed-grid coexistence first.
- Implement host-side tuple mapping for explorer actions and strict webview tuple-only rendering path.
- Validate deterministic reducer/lane assignment behavior remains unchanged.
- Run required verification commands and record outcomes.

## Milestone notes
- Intake complete: task selected and moved to `in_progress`.

## Patch summary
- Pending implementation.

## PR URL
- Pending PR creation.

## Verification
- Pending.

## Status request (Done / Blocked / In Progress)
- In Progress

## Blockers / Questions
- None.

## Next steps
- Implement code and tests, then open PR.
