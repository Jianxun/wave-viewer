# T-050 Scratchpad

## Task summary (DoD + verify)
- Replace current plot spec schema/contracts with v2-only layout schema (`version: 2`) using `dataset.path`, `active_plot`, per-plot `x`, and lane-grouped `signals`.
- Remove `mode` and `portable-archive` handling from spec parser/exporter paths.
- Reject unsupported schema versions (including v1) with actionable errors.
- Verify:
  - `npm test -- tests/unit/core/spec/importSpec.test.ts tests/unit/core/spec/exportSpec.test.ts`
  - `npm run lint`

## Read
- `agents/context/lessons.md`
- `agents/context/contract.md`
- `agents/context/tasks.yaml`
- `agents/context/tasks_state.yaml`
- `agents/context/project_status.md`
- `agents/adr/ADR-0013-layout-schema-v2-human-editable-mvp-only.md`
- `src/core/spec/plotSpecV1.ts`
- `src/core/spec/importSpec.ts`
- `src/core/spec/exportSpec.ts`
- `tests/unit/core/spec/importSpec.test.ts`
- `tests/unit/core/spec/exportSpec.test.ts`

## Plan
- Update unit tests for v2 schema contract and failure cases first.
- Refactor spec types + import/export logic to v2-only schema.
- Keep path resolution behavior, but remove mode/v1 handling.
- Run targeted tests, then lint.

## Milestone notes
- Intake complete.

## Patch summary
- Pending.

## PR URL
- Pending.

## Verification
- Pending.

## Status request (Done / Blocked / In Progress)
- In Progress

## Blockers / Questions
- None currently.

## Next steps
- Implement v2 parser/exporter updates and align tests.
