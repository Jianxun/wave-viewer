# T-065 Scratchpad

## Task summary (DoD + verify)
- Extend HDF5 loader ingestion to accept scalar real samples and complex pair samples `[re, im]` while preserving real-only runtime payloads.
- Enforce strict independent-variable policy: reject files where independent variable samples are complex-encoded.
- Implement symbolic accessor model with deterministic accessor set/order (`re`, `im`, `mag`, `phase`, `db20`) and lazy projection only when emitting trace tuples.
- Enforce finite projection outputs, including `db20` floor via `eps=1e-30`, with actionable loader/projection errors.

Verify:
- `npm test -- tests/unit/core/hdf5/loadNormalizedHdf5.test.ts`
- `npm test -- tests/unit/protocol/messages.test.ts`
- `npm run lint`

## Read (paths)
- `agents/context/contract.md`
- `agents/adr/ADR-0021-host-side-complex-projection-and-structured-signal-refs.md`
- `src/core/hdf5/loadNormalizedHdf5.ts`
- `src/core/dataset/types.ts`
- `src/extension.ts`
- `src/extension/types.ts`
- `tests/unit/core/hdf5/loadNormalizedHdf5.test.ts`
- `tests/unit/protocol/messages.test.ts`

## Notes
- Keep protocol and reducer contracts real-only.
- Accessor projection must be lazy, not eager.
