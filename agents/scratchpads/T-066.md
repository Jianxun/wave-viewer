# T-066 Scratchpad

## Task summary (DoD + verify)
- Make complex base signals expandable into virtual accessor children (`re`, `im`, `mag`, `phase`, `db20`) without eager vector materialization.
- Ensure quick-add on complex base signal maps deterministically to `<base>.db20`.
- Preserve existing behavior for real-only datasets and canonical signal actions.
- Add/update unit coverage for signal tree hierarchy and quick-add mapping behavior.

Verify:
- `npm test -- tests/unit/extension/signalTree.test.ts`
- `npm test -- tests/extension/smoke.test.ts`
- `npm run lint`

## Read (paths)
- `agents/context/contract.md`
- `agents/adr/ADR-0021-host-side-complex-projection-and-structured-signal-refs.md`
- `src/extension/signalTree.ts`
- `src/extension/commands.ts`
- `src/extension.ts`
- `tests/unit/extension/signalTree.test.ts`
- `tests/extension/smoke.test.ts`

## Notes
- Accessor nodes are symbolic UI affordances only.
- Base signal click defaults to `db20` only for complex-capable signals.
